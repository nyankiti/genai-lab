
# How are you actually handling observability in 2025? (Beyond the marketing fluff)

**Upvotes**: 63



[View on Reddit](https://www.reddit.com/r/devops/comments/1lf9wge/how_are_you_actually_handling_observability_in/)

## 1. ポストの内容の説明

このRedditのポストは、2025年におけるオブザーバビリティ（可観測性）について、特に実践的な経験に焦点を当てて議論を呼びかけるものです。投稿者は、ベンダーによるデモは素晴らしいものの、現実世界でのオブザーバビリティの課題に直面しており、他の人々の経験を求めています。

投稿者は、自身の直面している問題を具体的に提示しています。

*   15以上のサービスにログが散在し、一元的なビューがないこと。
*   Prometheusのメトリクス、New Relic（または類似のツール）のAPM、Sentryのエラーといった、コンテキストスイッチを強いられる環境であること。
*   アラート疲れが深刻であること（誤ったアラートで何度も起こされる）。
*   分散システムのデバッグが、手がかりの少ない探偵のような作業であること。
*   開発者が「なぜ遅いのか調べてほしい」と依頼し、データの収集に30分もかかる状況。

さらに、具体的な質問を投げかけています。

1.  あなたのオブザーバビリティスタックは？（正直な答えを求めています）
2.  本番環境の問題をデバッグするのにどのくらいの時間がかかるか？（アラートから根本原因の特定まで）
3.  アラートのうち、実際にアクションを起こせるものの割合は？
4.  統合プラットフォーム（DataDog、New Relicなど）を使用しているか、それともオープンソースツールを組み合わせて使用しているか？
5.  開発者向け：ログの調査にどれくらいの時間を費やし、実際に問題を解決するのにどれくらいの時間を費やしているか？

最後に、最も「ばかげた」オブザーバビリティの問題についても尋ねています。投稿者は、統合プラットフォームへの投資を検討しており、他の人々が同様のフラストレーションを抱えているのかどうかを知りたいと考えています。「オブザーバビリティの三本柱」は理論上は素晴らしいが、実際には3つの別々の頭痛の種のように感じているようです。

## 2. 特に興味深いコメント

このポストに対するコメントの中で、いくつか興味深いものがあります。

*   **Grafana + 多様なデータソース:** Grafanaを中心に、Prometheus、Thanos、Cloudtrail、Graylogなど様々なデータソースを統合するアプローチを紹介しています。すべてのアラートをAlertmanager経由で送信することで、一元的なダッシュボードとアラート管理を実現しています。
*   **DataDogの利用:** Datadogの利用について言及し、その高コストを認めつつも、大規模なオブザーバビリティスタックを運用できる専門家がいない場合は、価値があるという意見を示しています。アラートのチューニングと、チーム内での合意形成の重要性にも触れています。
*   **オープンソースツールの組み合わせ:** Elasticsearch, Vector, Prometheus, Grafana, AlertManager, Kibana, Jaegerといったオープンソースツールを組み合わせてオブザーバビリティスタックを構築している例です。ログのアーカイブ、アラートの絞り込み、マイクロサービスアーキテクチャにおけるデバッグの効率性などについて述べています。
*   **Loki, Prometheus, Grafana の利用:** Loki (ログ), Prometheus (メトリクス), Grafana (可視化) といったツールを組み合わせ、AWS Cloudwatch やデータベースシステムといった他のデータソースも統合しています。アラート管理、Slackへの通知、問題解決までの時間など、具体的な運用状況と課題を提示しています。Oracleデータベースなどの特定のシステムにおける問題点についても言及しています。
*   **DataDogの活用、アラートの過多:** DataDogをログ、メトリクス、DBモニタリングに使用している例。インフラ担当者の視点から、問題解決までの時間や、アラートの過多、アラートタイプの使用方法における課題について述べています。


---

# Pure JWT Authentication - Spring Boot 3.4.x

**Upvotes**: 41



[View on Reddit](https://www.reddit.com/r/SpringBoot/comments/1lffj00/pure_jwt_authentication_spring_boot_34x/)

## 1. ポストの内容の説明

このRedditのポストは、Spring Boot 3.4.x を用いた「純粋なJWT認証」の実装方法について解説しています。投稿者は、自身の実装が以下の特徴を持つと説明しています。

*   **料金や広告なし**：全てを無料で公開し、詳細に説明している。
*   **依存関係の少なさ**：カスタムフィルターや外部セキュリティライブラリを使用せず、Spring Bootのスターターのみを利用している。
*   **読みやすさの向上**：カスタムのセキュリティアノテーションを使用。
*   **きめ細かい制御**：メソッドセキュリティを使って、各エンドポイントを詳細に制御。
*   **パフォーマンスへの配慮**：AOP (Aspect-Oriented Programming) のポイントカットをコントローラーのみに絞り込み、アプリケーション全体のパフォーマンスへの影響を最小限に抑えている。
*   **認証認可の統合**：Authorities 機能とのシームレスな統合。
*   **最新機能の利用**：非推奨の機能は使用していない。
*   **デフォルトのアクセス拒否**：OWASP (Open Web Application Security Project) の推奨に従い、明示的に許可された場合を除き、すべてのリクエストを拒否する。
*   **リフレッシュトークンとアクセストークン**：ステートフルなリフレッシュトークン（失効可能）とステートレスなアクセストークンを使用。
*   **効率的なアクセストークン生成**：データプロジェクションに基づいた効率的なアクセストークン生成。

要するに、このポストは、Spring Boot を使って JWT (JSON Web Token) 認証を実装する方法を、シンプルかつ効率的、そして安全に実現するためのガイドラインを提供しています。

## 2. 特に興味深いコメント

このポストに対するコメントの中で、特に興味深いものは以下の通りです。

*   **「GitHubへのリンクが欲しい」**：最終的な実装結果へのGitHubリンクを求める声があり、これは読者が具体的なコードを参照したいと考えていることを示唆しています。これは、実際に試してみたい、または実装を参考にしたいという意欲の表れと考えられます。
*   **「ブックマーク」**：時間的な制約から、すぐに内容を理解することができないため、後で読み返せるようにブックマークするというコメントがあります。
*   **Lombokに関する議論**：Lombokライブラリの使用に対する意見が分かれています。Lombokに対する肯定的な意見と、Lombokの使用を「cringe」と表現する否定的な意見が見られます。これは、Lombokが開発者の間で賛否両論あるライブラリであることを示しています。


---

# Rant: Save me from lazy devs

**Upvotes**: 155



[View on Reddit](https://www.reddit.com/r/webdev/comments/1lfjokx/rant_save_me_from_lazy_devs/)

## 1. ポストの内容の説明

このRedditのポストは、投稿者が同僚の開発者たちの**質の低いコーディング習慣**に対する不満を表明したものです。投稿者は、自身の職場でのコードレビューと統合テストのプロセスにおいて、同僚の開発者たちが細部を軽視し、質の低いコードを提出する傾向があることに苛立ちを感じています。

具体的には、以下の点が挙げられています。

*   **誤字脱字の放置:** コード内の誤字脱字を修正しない。
*   **ヘルプドキュメントの不備:** ヘルプドキュメントが不正確。
*   **SQLの脆弱性:** SQLクエリがエッジケースに対応していない。
*   **入力データの未処理:** 隠しフィールドからの入力データに対するサニタイズ（無害化）を行わない。
*   **コメントアウトされたコードの放置:** 不要なコメントアウトされたコードを削除しない。
*   **質の低いコード:** コードの質が低く、手抜きと思われる部分が多い。

投稿者は、自身のコーディングへの取り組み方を大工仕事になぞらえ、高品質なコードを書くことの重要性を強調しています。まるでグラグラするテーブルや飛び出した釘があるテーブルを売るようなものだと例えています。

## 2. 特に興味深いコメント

このポストに対するコメントの中で、特に興味深いものをいくつか紹介します。

*   **「斧を持って後を追ってくる人がいると思ってコードを書け」** (99 upvotes): このコメントは、質の高いコードを書くためのモチベーションを刺激する示唆に富んだアドバイスです。後の人がコードをメンテナンスしやすいように、丁寧に書くことの重要性を示唆しています。また、小さな問題の放置が、やがて大きな問題につながる可能性があることを指摘しています。

*   **「ジュニア/ミッドレベルとシニア開発者の違い」** (22 upvotes): このコメントは、投稿者が指摘する問題が、開発者の経験レベルの違いに起因する可能性があることを示唆しています。経験豊富な開発者は、より詳細な部分に気を配り、高品質なコードを書く傾向があるという示唆です。

*   **コードレビューと統合テストプロセスの影響** (32 upvotes): このコメントは、コードレビューと統合テストのプロセス自体が、開発者のモチベーションを低下させ、手抜きを誘発している可能性を指摘しています。レビューで修正されることを前提として、最初から完璧を目指さない開発者がいるかもしれないという指摘です。また、レビューが「感情労働」になっているのではないかという視点も興味深いです。
    *   **質問:**
        *   問題がすべての開発者に起こっているのか。
        *   開発者（レビュー担当者とコードを書く人）は、コードを書く前にペアになっているか。
        *   問題は投稿者だけに起こっているのか。

*   **「時間のプレッシャー」** (15 upvotes): このコメントは、開発者が細部を無視し、エッジケースを考慮しないのは、時間のプレッシャーが原因である可能性を指摘しています。早く、安く、そして良く、という3つのうち、2つしか選べないという格言を引用し、時間がないと品質が犠牲になる可能性があることを示唆しています。

*   **「教育と厳格なレビュー」** (11 upvotes): このコメントは、問題のある開発者を教育し、厳格なレビューを行うことで、改善を促すことができるという提案をしています。


---

# What’s the worst legacy codebase you ever inherited (or created yourself)?

**Upvotes**: 70



[View on Reddit](https://www.reddit.com/r/webdev/comments/1lf83dq/whats_the_worst_legacy_codebase_you_ever/)

## ポストの内容の説明

このRedditのポストは、プログラマーが「今まで経験した最悪のレガシーコードベース」について語り合うものです。

投稿者は、2010年頃のjQueryのコードベースを例に挙げ、そのひどさ（レースコンディション、ドキュメントの欠如、インラインスタイル、巨大な単一ファイル、意味不明な関数名など）を具体的に示し、他のプログラマーに同様の経験を尋ねています。つまり、レガシーコードベースとの苦労を共有し、共感を求める内容です。

## 特に興味深いコメント

以下は、このポストに対するコメントの中で特に興味深いものの一部です。

*   **Wordで作成されたWebサイト（99 upvotes）:** 各ページがWordの「HTMLとして保存」機能を使って作成されたという、非常に原始的な方法で構築されたWebサイトの経験が語られています。このコメントは、コードの質の低さと、その後の苦労を象徴的に表しており、多くの共感を呼んでいます。

*   **引退した金融マンが作ったAngularJSコードベース（37 upvotes）:**
    *   2016年に独学でプログラミングを始めた72歳の元金融マンが作成したAngularJSのコードベース。
    *   開発環境が特殊で、開発者の個人サーバーにリモート接続する必要がある。
    *   Gitを使用せず、ライブラリのバージョン更新で問題が発生する。
    *   Gulp v2が使用されているが、新しいプラグインの追加が困難。
    *   このコメントは、レガシーコードベースの抱える技術的な問題だけでなく、開発環境の特殊性や、開発者の背景によって生じる問題も示唆しています。

*   **25年前から存在するPHPプロジェクト（24 upvotes）:**
    *   25年前にPHP3で始まり、自己流のプログラマーが作ったCRMシステムが、ERPシステムに発展した。
    *   PHP5で凍結されており、コードはスパゲッティ状態。
    *   現在、フルリライトを計画中。
    *   このコメントは、長期間にわたって進化し続けたレガシーコードベースの複雑さと、その維持・拡張の難しさを語っています。

*   **共通ライブラリのコピー＆ペースト（13 upvotes）:** 複数のアプリケーションで共通の機能を実装するために、コードをコピー＆ペーストして新しいバージョンのライブラリを作った結果、コードが乱雑になったという経験。APIの問題や、奇妙なコーディング習慣についても言及されています。

*   **大規模企業のフロントエンド（11 upvotes）:**
    *   大規模企業のフロントエンド開発における問題点。
    *   パフォーマンスとセキュリティを理由にライブラリを使用しない。
    *   マイクロフロントエンドアーキテクチャを採用し、チーム間のコミュニケーションが複雑。
    *   独自のアナリティクスフレームワーク。
    *   このコメントは、大規模企業におけるレガシーコードベースの複雑さと、非効率的な開発体制の問題を指摘しています。


---

# How common is it for companies to only have production database

**Upvotes**: 274



[View on Reddit](https://www.reddit.com/r/webdev/comments/1leyzij/how_common_is_it_for_companies_to_only_have/)

## ポストの内容の説明

このRedditのポストは、あるプログラマーが現在の職場環境について不満を述べているものです。具体的には、以下の問題点を指摘しています。

*   **開発環境の欠如**: コードの開発環境はあるものの、データベースは本番環境と共通で、開発・テスト用の環境が存在しない。
*   **テストの困難さ**: 本番環境のデータベースを使用するため、実際のデータを変更してテストすることができず、テストアカウントを使った代替手段も完全ではない。
*   **データベースへの広範なアクセス権**: 全ての開発者がデータベースへの書き込み権限を持っており、誤ったSQL文によるデータ変更や削除のリスクが高い。
*   **バックアップの欠如**: データベースのバックアップが一切ない。
*   **上司の無理解**: 開発環境の導入を提案しても、上司に無視される。

投稿者は、この職場環境が非常に非専門的であり、将来的な問題（データ損失、誤操作によるサービス停止など）を引き起こす可能性があると懸念しています。

## 特に興味深いコメント

このポストに対するコメントの中で、以下が特に興味深いと考えられます。

*   **"Disaster waiting to happen" (636 upvotes)**: このコメントは、現状の職場環境が大きな問題を引き起こす可能性が高いことを端的に表現しています。多くの人が同意していることを示唆しており、この問題がいかに深刻であるかを強調しています。
*   **"Everyone has a QA environment. Some people are lucky to have a separate production environment." (182 upvotes)**: このコメントは、一般的な開発環境と比較して、投稿者の職場の環境がいかに異常であるかを指摘しています。通常、QA環境（品質保証環境）は存在し、さらに本番環境とは別に運用されるのが一般的です。
*   **"Are you sure the company isn't just a front for money laundering? How does a business big enough to have more than one IT person operate in a functional way if it's doing this?" (135 upvotes)**: このコメントは、現状の環境があまりにも異常であり、他の目的で運営されているのではないかと推測しています。データベースの管理体制から、まともなビジネスとは考えられないという強い疑念を表明しています。
*   **"No prod backup? That company is going to die suddenly." (27 upvotes)**: データベースのバックアップがないことの危険性を指摘しています。データが失われる可能性があり、それが企業の存続を脅かすことにもなりかねないという警鐘を鳴らしています。

これらのコメントは、投稿者の懸念に対する共感を示しつつ、問題の深刻さを様々な角度から強調しています。また、一般的な開発環境の基準と比較することで、投稿者の職場の異常さを浮き彫りにしています。


---

# Vertical tabs in Safari

**Upvotes**: 51

![Image](https://i.redd.it/kvh1wcqb5v7f1.jpeg)

[View on Reddit](https://www.reddit.com/r/webdev/comments/1lf7o3v/vertical_tabs_in_safari/)

## Redditのポスト内容とコメントの考察

### 1. ポストの内容

このRedditのポストは、Safariブラウザにおける「垂直タブ」機能について言及しています。垂直タブとは、通常ブラウザの上部または下部に横並びで表示されるタブを、ブラウザのサイドバーに縦に並べて表示する機能のことです。

### 2. 特に興味深いコメント

*   **「8 upvotes: Is there hover functionality to show/hide the sidebar? If not, no thanks.」**: このコメントは、垂直タブの表示/非表示をマウスオーバーで切り替える機能（つまり、タブを表示しているサイドバーを一時的に隠す機能）があるかどうかを尋ねています。もしこの機能がない場合、垂直タブの利用は見送ると表明しており、UI/UXにおける利便性を重視していることがわかります。

*   **「22 upvotes: Oh my... honey, get the shotgun」**: これは、垂直タブ機能に対する否定的な感情をユーモラスに表現したコメントです。Safariの既存のタブ機能に満足しており、垂直タブの導入に強い拒否感を示していることがわかります。

*   **「8 upvotes: Not a Mac user, but at work when I have two screens I do sometimes use vertical tabs for reference materials, I find it a lot easier to quickly find what I need that way. Any other situation I just think it takes up way too much real estate.」**: このコメントは、Macユーザーではないものの、2画面環境下での垂直タブの有用性を認めています。参照資料を扱う際にタブを探しやすいため、便利だと感じているようです。一方で、それ以外の状況では画面スペースを圧迫するため、必ずしも必要ではないと考えています。

*   **「2 upvotes: Tab groups and tabs in safari are fantastic as is. No need to change what ain’t broken. Although tab groups eat my local storage 😅」**: Safariの既存のタブグループとタブ機能に満足しており、現状のままで良いと考えているコメントです。「壊れていないもの（現状の機能）をわざわざ変える必要はない」という意見です。一方で、タブグループがローカルストレージを消費することには不満を感じているようです。

*   **「2 upvotes: is this the new MacOs tahoe ?」**: このコメントは、新しいmacOSのバージョンに関する憶測を述べています。垂直タブ機能が、次期macOSの新機能として導入されるのではないかと推測していることがわかります。

