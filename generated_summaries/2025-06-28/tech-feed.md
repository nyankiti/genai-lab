# New Features in Java 25 | Baeldung

[View on Baeldung](https://feeds.feedblitz.com/~/920832566/0/baeldung)

## Java 25 の新機能 - 詳細要約

この記事は、2025年9月にリリース予定のJava 25の主要な新機能を詳細に解説しています。Java 25は、Java言語、標準ライブラリ、API、ランタイム全体にわたる一連の強化を導入し、開発者の生産性とアプリケーションのパフォーマンス向上を目指しています。

**1. 言語とコンパイラの機能:**

*   **パターン内のプリミティブ型 (JEP 507 - プレビュー):** `switch`文や`instanceof`文でプリミティブ型をパターンマッチングできるようになり、より簡潔なコード記述が可能になりました。
*   **モジュールインポート宣言 (JEP 511 - プレビュー):** モジュール間の依存関係を`import module`文で明示的に宣言できるようになり、モジュール間の関係性が明確になり、開発ツールによる依存関係の推測も容易になりました。
*   **コンパクトソースファイル (JEP 512) とインスタンス main メソッド:** クラス宣言なしで記述できるトップレベルのインスタンス`main`メソッドと、クラスレスなコンパクトソースファイルが導入され、スクリプトや小規模なデモの作成が容易になり、学習コストが削減されました。
*   **柔軟なコンストラクタ本体 (JEP 513 - 最終):** 複数のコンストラクタで共通の初期化処理を共有できるようになり、引数検証や共通のセットアップ処理をコンストラクタ内で集約できるようになり、コードの可読性と保守性が向上しました。

**2. API の強化:**

*   **スコープ付き値 (JEP 506 - 最終):** `ThreadLocal`の代替として、軽量でイミュータブル、スレッドセーフな`ScopedValue`が導入され、仮想スレッドとの連携により、メモリリークや同期のオーバーヘッドを回避しながら、安全で高性能なコンテキストの受け渡しを実現します。
*   **構造化並行性 (JEP 505 - 第5回プレビュー):** 関連するスレッドを単一のユニットとして扱い、適切なライフサイクル管理を行うことで並行処理を簡素化します。`StructuredTaskScope.open()`メソッドによる新しい構文が導入され、カスタムの結合やエラー処理の動作を定義する柔軟性が向上しました。
*   **安定値 API (JEP 502 - プレビュー):** `Optional`のようなセマンティクスをコンテキストで安定したイミュータブルな値に拡張し、キャッシュ、遅延評価、または安定したスコープ内での一貫した読み取りに役立ちます。
*   **暗号オブジェクトの PEM エンコーディング (JEP 470 - プレビュー):** 標準 API を介して PEM 形式の暗号鍵と証明書の読み書きをサポートし、サードパーティライブラリや手動変換の必要性をなくし、OpenSSL ベースのシステムとの相互運用性を向上させます。
*   **ベクトル API (JEP 508 - 第10回インキュベータ):** SIMD 命令を利用して、モダンな CPU で効率的に実行できるデータ並列計算を表現する API で、Java コードがネイティブコードに匹敵するパフォーマンスを実現します。
*   **鍵導出関数 API (JEP 510 - 最終):** パスワードベースの鍵導出関数（PBKDF2 や scrypt など）のための標準 API が導入され、サードパーティライブラリへの依存を減らし、安全な実装をすぐに利用できるようにします。

**3. その他の変更点:**

*   **32 ビット x86 ポートの削除 (JEP 503 - 最終):** レガシーな 32 ビット x86 アーキテクチャのサポートが削除され、保守コストが削減されました。
*   **JFR CPU 時間プロファイリング (JEP 509 - 実験的):** Java Flight Recorder (JFR) に CPU 時間ベースのプロファイリングサポートが追加され、特定のメソッドやスレッドで費やされた CPU 時間を記録し分析できるようになり、マルチスレッドや I/O バウンドワークロードでのパフォーマンス診断が向上しました。
*   **AOT コマンドラインの人間工学 (JEP 514 - 最終):** AOT (Ahead-of-Time) コンパイルの人間工学的なコマンドラインオプションが導入され、起動パフォーマンスが向上しました。
*   **AOT メソッドプロファイリング (JEP 515 - 最終):** AOT コンパイル中にメソッドレベルのプロファイリングを有効にし、より良い最適化判断を可能にしました。
*   **JFR 協調サンプリング (JEP 518 - 実験的):** アプリケーションが Java Flight Recorder に安全なサンプリングポイントを提案できるようになり、正確性を向上させながら、パフォーマンスに敏感なコードへの影響を最小限に抑えます。
*   **コンパクトオブジェクトヘッダー (JEP 519 - プレビュー):** 64 ビットアーキテクチャでオブジェクトヘッダーサイズを削減し、メモリフットプリントを小さくしました。
*   **JFR メソッドタイミングとトレース (JEP 520 - 実験的):** JFR を詳細なメソッドごとのタイミングと呼び出しトレース情報で強化し、より詳細なプロファイリングとボトルネックの特定を可能にします。
*   **ジェネレーショナル Shenandoah (JEP 521 - 最終):** Shenandoah ガベージコレクタにジェネレーショナルサポートを追加し、スループットとポーズ時間のパフォーマンスを向上させました。

**4. 開発者が知っておくべきこと:**

プレビューおよびインキュベータ段階の機能を使用するには、コンパイル時および実行時に`--enable-preview`や`--add-modules`などのオプションが必要です。また、これらの機能は将来のバージョンで変更または削除される可能性があるため、注意が必要です。

**5. 結論:**

Java 25は、言語構文からランタイム診断、メモリ管理まで、あらゆるレベルでパフォーマンスを向上させ、モダン化と効率化に向けた着実な進化を続けています。開発者は、これらの新機能を積極的に採用し、フィードバックを提供することで、Java 27 などの将来の LTS (Long Term Support) バージョンの進化に貢献できます。
